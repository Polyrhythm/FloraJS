var system=new Flora.FloraSystem;
system.start(function(){Flora.world.update({c:0.01,showStats:!1,gravity:Flora.PVector.create(0,0),width:3E3,height:3E3});var b=new Flora.Sensor({type:"cold",behavior:"EXPLORER",sensitivity:3,length:40,opacity:1,offsetAngle:0,border:"1px solid #fff",afterStep:function(){this.activated?this.connector?(this.connector.parentA=this,this.connector.parentB=this.target):this.connector=new Flora.Connector({parentA:this,parentB:this.target,color:null}):this.connector&&(Flora.destroyElement(this.connector.id),this.connector=
null)}});new Flora.Mover({controlCamera:!0,mass:5,minSpeed:0.5,defaultSpeed:2,maxSpeed:8,maxSteeringForce:1,wrapEdges:!0,sensors:[b],velocity:Flora.PVector.create(1,0),color:{r:255,g:255,b:255},borderRadius:"100%",boxShadow:"0 0 10px 10px rgba(255, 255, 255, 0.15)",eyeRotation:0,view:function(){var a=document.createElement("div"),c=document.createElement("div");c.id="eye";c.className="eye";a.appendChild(c);return a},beforeStep:function(){var a,c,b;a=0;for(c=this.sensors.length;a<c;a+=1)this.sensors[a].activated&&
(b=!0,this.boxShadow="0 0 10px 10px rgba(255, 255, 255, 0.25)");b||(a=Flora.Utils.clone(this.velocity),a.normalize(),this.velocity.mag()>this.defaultSpeed?a.mult(-this.minSpeed):a.mult(this.defaultSpeed),this.applyForce(a),this.boxShadow="0 0 10px 10px rgba(255, 255, 255, 0.15)");if(1===Flora.Utils.getRandomNumber(0,500)){this.randomRadius=100;this.target={location:Flora.PVector.PVectorAdd(this.location,Flora.PVector.create(Flora.Utils.getRandomNumber(-this.randomRadius,this.randomRadius),Flora.Utils.getRandomNumber(-this.randomRadius,
this.randomRadius)))};var d=this;setTimeout(function(){d.target=null},10)}document.getElementById("eye").style.webkitTransform="rotate("+this.eyeRotation+"deg)";this.eyeRotation+=Flora.Utils.map(this.velocity.mag(),this.minSpeed,this.maxSpeed,0.01,50)}});var e,f,g,d,b=0;for(e=0.05*Flora.world.width;b<e;b+=1)f=Flora.Utils.getRandomNumber(0,Flora.world.width),g=Flora.Utils.getRandomNumber(0,Flora.world.height),d=Flora.Utils.getRandomNumber(15,35),new Flora.Cold({width:d,height:d,scale:1,isStatic:!0,
location:Flora.PVector.create(f,g)})});
