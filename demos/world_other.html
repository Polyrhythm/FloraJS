<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content = "user-scalable=no, width=device-width, initial-scale=1.0; maximum-scale=1.0;" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>Flora</title>
  <link rel="stylesheet" href="css/flora.css" type="text/css" charset="utf-8">
  <script src="lib/jquery.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="lib/modernizr.js" type="text/javascript" charset="utf-8"></script>
  <script src="../build/build.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
  <div id='worldA'></div>
  <div id='worldB'></div>
  <div id='worldC'></div>
  <div id='worldD'></div>
  <script type="text/javascript" charset="utf-8">

    var worlds = [
          document.getElementById('worldA'),
          document.getElementById('worldB'),
          document.getElementById('worldC'),
          document.getElementById('worldD')
        ],
        system = new exports.FloraSystem({
          world: worlds,
          universeOptions: {
            isPlaying: true,
            zSorted: false,
            showStats: true
          }
        });

    system.start(function () {

      Flora.universe.update({
        isStatic: false,
        width: 300,
        height: 300,
        location: new exports.Vector(0, 0)
      }, exports.universe.first());

      Flora.universe.update({
        isStatic: false,
        width: 300,
        height: 300,
        location: new exports.Vector(301, 0)
      }, exports.universe.getWorldById('worldB'));

      Flora.universe.update({
        isStatic: false,
        width: 300,
        height: 300,
        location: new exports.Vector(602, 0)
      }, exports.universe.getWorldById('worldC'));

     Flora.universe.update({
        isStatic: false,
        width: 300,
        height: 300,
        location: new exports.Vector(903, 0)
      }, exports.universe.last());

      new Flora.ParticleSystem({
        world: exports.universe.first()
      });

      new Flora.Mover({
        world: exports.universe.getWorldById('worldB')
      });

      new Flora.Oscillator({
        world: exports.universe.getWorldById('worldC'),
        acceleration: new exports.Vector(0.01, 0.05)
      });

      new Flora.Oscillator({
        world: exports.universe.getWorldById('worldC'),
        acceleration: new exports.Vector(0.05, 0.025)
      });

      new Flora.Walker({
        world: exports.universe.last()
      });

      document.addEventListener('mouseup', function() {
        var id = Flora.universe.last().id;
        Flora.universe.destroyAll();
      }, false);
    });
  </script>
</body>
</html>